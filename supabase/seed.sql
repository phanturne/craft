-- Seed data for local development
-- This file will be automatically loaded when you run supabase db reset

-- Ensure pgcrypto is enabled
CREATE EXTENSION IF NOT EXISTS pgcrypto SCHEMA extensions;

-- Insert into auth.users
INSERT INTO auth.users (
  instance_id,
  id,
  aud,
  role,
  email,
  encrypted_password,
  email_confirmed_at,
  invited_at,
  confirmation_token,
  confirmation_sent_at,
  recovery_token,
  recovery_sent_at,
  email_change_token_new,
  email_change,
  email_change_sent_at,
  last_sign_in_at,
  raw_app_meta_data,
  raw_user_meta_data,
  is_super_admin,
  created_at,
  updated_at,
  phone,
  phone_confirmed_at,
  phone_change,
  phone_change_token,
  phone_change_sent_at,
  email_change_token_current,
  email_change_confirm_status,
  banned_until,
  reauthentication_token,
  reauthentication_sent_at
) VALUES 
  (
    '00000000-0000-0000-0000-000000000000',
    '11111111-1111-1111-1111-111111111111',
    'authenticated',
    'authenticated',
    'john.doe@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "John Doe", "username": "johndoe", "avatar_url": "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '22222222-2222-2222-2222-222222222222',
    'authenticated',
    'authenticated',
    'jane.smith@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Jane Smith", "username": "janesmith", "avatar_url": "https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '33333333-3333-3333-3333-333333333333',
    'authenticated',
    'authenticated',
    'mike.johnson@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Mike Johnson", "username": "mikejohnson", "avatar_url": "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '44444444-4444-4444-4444-444444444444',
    'authenticated',
    'authenticated',
    'sarah.wilson@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Sarah Wilson", "username": "sarahwilson", "avatar_url": "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '55555555-5555-5555-5555-555555555555',
    'authenticated',
    'authenticated',
    'david.brown@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "David Brown", "username": "davidbrown", "avatar_url": "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '66666666-6666-6666-6666-666666666666',
    'authenticated',
    'authenticated',
    'emily.davis@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Emily Davis", "username": "emilydavis", "avatar_url": "https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '77777777-7777-7777-7777-777777777777',
    'authenticated',
    'authenticated',
    'alex.miller@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Alex Miller", "username": "alexmiller", "avatar_url": "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '88888888-8888-8888-8888-888888888888',
    'authenticated',
    'authenticated',
    'lisa.garcia@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Lisa Garcia", "username": "lisagarcia", "avatar_url": "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    '99999999-9999-9999-9999-999999999999',
    'authenticated',
    'authenticated',
    'tom.rodriguez@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Tom Rodriguez", "username": "tomrodriguez", "avatar_url": "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  ),
  (
    '00000000-0000-0000-0000-000000000000',
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
    'authenticated',
    'authenticated',
    'rachel.martinez@example.com',
    extensions.crypt('password123', extensions.gen_salt('bf')),
    timezone('utc'::text, now()),
    NULL,
    '',
    NULL,
    '',
    NULL,
    '',
    '',
    NULL,
    NULL,
    '{"provider": "email", "providers": ["email"]}',
    '{"full_name": "Rachel Martinez", "username": "rachelmartinez", "avatar_url": "https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150&h=150&fit=crop&crop=face"}',
    NULL,
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    NULL,
    NULL,
    '',
    '',
    NULL,
    '',
    0,
    NULL,
    '',
    NULL
  );

-- Insert into auth.identities
INSERT INTO auth.identities (
  id,
  user_id,
  identity_data,
  provider,
  provider_id,
  last_sign_in_at,
  created_at,
  updated_at
) VALUES 
  (
    '11111111-1111-1111-1111-111111111111',
    '11111111-1111-1111-1111-111111111111',
    '{"sub": "11111111-1111-1111-1111-111111111111", "email": "john.doe@example.com"}',
    'email',
    '11111111-1111-1111-1111-111111111111',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '22222222-2222-2222-2222-222222222222',
    '22222222-2222-2222-2222-222222222222',
    '{"sub": "22222222-2222-2222-2222-222222222222", "email": "jane.smith@example.com"}',
    'email',
    '22222222-2222-2222-2222-222222222222',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '33333333-3333-3333-3333-333333333333',
    '33333333-3333-3333-3333-333333333333',
    '{"sub": "33333333-3333-3333-3333-333333333333", "email": "mike.johnson@example.com"}',
    'email',
    '33333333-3333-3333-3333-333333333333',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '44444444-4444-4444-4444-444444444444',
    '44444444-4444-4444-4444-444444444444',
    '{"sub": "44444444-4444-4444-4444-444444444444", "email": "sarah.wilson@example.com"}',
    'email',
    '44444444-4444-4444-4444-444444444444',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '55555555-5555-5555-5555-555555555555',
    '55555555-5555-5555-5555-555555555555',
    '{"sub": "55555555-5555-5555-5555-555555555555", "email": "david.brown@example.com"}',
    'email',
    '55555555-5555-5555-5555-555555555555',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '66666666-6666-6666-6666-666666666666',
    '66666666-6666-6666-6666-666666666666',
    '{"sub": "66666666-6666-6666-6666-666666666666", "email": "emily.davis@example.com"}',
    'email',
    '66666666-6666-6666-6666-666666666666',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '77777777-7777-7777-7777-777777777777',
    '77777777-7777-7777-7777-777777777777',
    '{"sub": "77777777-7777-7777-7777-777777777777", "email": "alex.miller@example.com"}',
    'email',
    '77777777-7777-7777-7777-777777777777',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '88888888-8888-8888-8888-888888888888',
    '88888888-8888-8888-8888-888888888888',
    '{"sub": "88888888-8888-8888-8888-888888888888", "email": "lisa.garcia@example.com"}',
    'email',
    '88888888-8888-8888-8888-888888888888',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    '99999999-9999-9999-9999-999999999999',
    '99999999-9999-9999-9999-999999999999',
    '{"sub": "99999999-9999-9999-9999-999999999999", "email": "tom.rodriguez@example.com"}',
    'email',
    '99999999-9999-9999-9999-999999999999',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  ),
  (
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
    '{"sub": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa", "email": "rachel.martinez@example.com"}',
    'email',
    'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa',
    timezone('utc'::text, now()),
    timezone('utc'::text, now()),
    timezone('utc'::text, now())
  );

-- Insert additional profile data for testing
-- Note: Profiles are automatically created by the trigger with usernames, but we can update them with additional data
UPDATE public.profiles 
SET 
    display_name = 'John Doe',
    bio = 'Software engineer passionate about building great user experiences.',
    status = 'active'
WHERE user_id = '11111111-1111-1111-1111-111111111111';

UPDATE public.profiles 
SET 
    display_name = 'Jane Smith',
    bio = 'Product designer focused on creating intuitive interfaces.',
    status = 'active'
WHERE user_id = '22222222-2222-2222-2222-222222222222';

UPDATE public.profiles 
SET 
    display_name = 'Mike Johnson',
    bio = 'Full-stack developer with expertise in React and Node.js.',
    status = 'active'
WHERE user_id = '33333333-3333-3333-3333-333333333333';

UPDATE public.profiles 
SET 
    display_name = 'Sarah Wilson',
    bio = 'UX researcher helping teams build better products.',
    status = 'active'
WHERE user_id = '44444444-4444-4444-4444-444444444444';

UPDATE public.profiles 
SET 
    display_name = 'David Brown',
    bio = 'DevOps engineer specializing in cloud infrastructure.',
    status = 'active'
WHERE user_id = '55555555-5555-5555-5555-555555555555';

UPDATE public.profiles 
SET 
    display_name = 'Emily Davis',
    bio = 'Frontend developer creating beautiful web applications.',
    status = 'active'
WHERE user_id = '66666666-6666-6666-6666-666666666666';

UPDATE public.profiles 
SET 
    display_name = 'Alex Miller',
    bio = 'Backend developer building scalable APIs.',
    status = 'active'
WHERE user_id = '77777777-7777-7777-7777-777777777777';

UPDATE public.profiles 
SET 
    display_name = 'Lisa Garcia',
    bio = 'QA engineer ensuring software quality and reliability.',
    status = 'active'
WHERE user_id = '88888888-8888-8888-8888-888888888888';

UPDATE public.profiles 
SET 
    display_name = 'Tom Rodriguez',
    bio = 'Data scientist working on machine learning projects.',
    status = 'active'
WHERE user_id = '99999999-9999-9999-9999-999999999999';

UPDATE public.profiles 
SET 
    display_name = 'Rachel Martinez',
    bio = 'Project manager coordinating development teams.',
    status = 'active'
WHERE user_id = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa';